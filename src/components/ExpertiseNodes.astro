---
import { Icon } from 'astro-icon/components';

const nodes = [
	{ icon: "mdi:design", title: "Frontend" },
	{ icon: "mdi:server", title: "Backend" },
	{ icon: "mdi:file-graph", title: "Data" },
	{ icon: "mdi:cellphone", title: "Mobile" },
	{ icon: "mdi:docker", title: "DevOps" },
	{ icon: "iconoir:agile", title: "Agile" }
];
---

<section class="expertise-nodes-section mb-24 relative -mt-[22vh] z-20" data-animate="section">
	<!-- Connecting Line -->
	<div class="absolute top-1/2 left-0 w-full h-[1px] bg-white/10 -z-10 hidden md:block"></div>
	
	<div class="flex flex-wrap justify-between gap-4 md:gap-0">
		{nodes.map((node, index) => (
			<div class="flex flex-col items-center group w-1/3 md:w-auto" data-expertise-node>
				<div class="w-16 h-16 glass-btn rounded-xl mb-3 flex items-center justify-center">
					<Icon name={node.icon} class="text-white/70 text-xl w-6 h-6" />
				</div>
				<p 
					class="text-[10px] uppercase text-center text-gray-500 group-hover:text-purple-400 transition-colors"
					set:html={node.title}
				/>
			</div>
		))}
	</div>
</section>

<style>
	/* Blur en ::after con máscara radial para que se desvanezca en los bordes (sin corte visible) */
	.expertise-nodes-section {
		position: relative;
		padding: 1.25rem 0.5rem 1.5rem;
	}

	.expertise-nodes-section::after {
		content: "";
		position: absolute;
		inset: 0;
		z-index: -1;
		pointer-events: none;
		background: rgba(3, 5, 12, 0.25);
		-webkit-backdrop-filter: blur(8px);
		backdrop-filter: blur(8px);
		/* Elipse más estrecha en X para que los bordes horizontales se desvanezcan */
		mask-image: radial-gradient(
			ellipse 50% 80% at 50% 50%,
			black 20%,
			transparent 70%
		);
		-webkit-mask-image: radial-gradient(
			ellipse 50% 80% at 50% 50%,
			black 20%,
			transparent 70%
		);
		mask-size: 100% 100%;
		mask-position: center;
		-webkit-mask-size: 100% 100%;
		-webkit-mask-position: center;
	}
</style>
