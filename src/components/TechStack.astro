---
import { Icon } from 'astro-icon/components';
import { techCategories } from '../data/techstack';
---

<section class="mb-32">
	<div class="flex items-center justify-center mb-10">
		<div class="h-px w-12 bg-gray-800 mr-4"></div>
		<h2 class="text-xs uppercase tracking-widest text-gray-500">Tecnolog√≠as</h2>
		<div class="h-px w-12 bg-gray-800 ml-4"></div>
	</div>

	<div class="space-y-12 max-w-4xl mx-auto" data-tech-grid>
		{techCategories.map((category) => (
			<div>
				<h4 class="text-xs uppercase tracking-wider text-gray-500 mb-4 text-center">{category.title}</h4>
				{/* Mobile: carrusel horizontal con scroll-snap */}
				<div class="md:hidden -mx-6 px-6">
					<div class="flex gap-3 overflow-x-auto no-scrollbar snap-x snap-mandatory pb-2">
						{category.techs.map((tech) => (
							<div class="snap-start">
								<div
									class="tech-stack-icon w-16 h-16 rounded-xl flex items-center justify-center cursor-pointer"
									title={tech.label}
									data-tech-icon
								>
									<Icon name={tech.name} class="text-white w-7 h-7" />
								</div>
							</div>
						))}
					</div>
				</div>

				{/* Desktop: grid */}
				<div class="hidden md:grid grid-cols-8 gap-3">
					{category.techs.map((tech) => (
						<div
							class="tech-stack-icon aspect-square rounded-xl flex items-center justify-center cursor-pointer"
							title={tech.label}
							data-tech-icon
						>
							<Icon name={tech.name} class="text-white w-8 h-8" />
						</div>
					))}
				</div>
			</div>
		))}
	</div>
</section>
